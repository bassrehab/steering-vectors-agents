
Hierarchy Steering - NEGATED Vector Test

Model: mistralai/Mistral-7B-Instruct-v0.2
Device: mps
Testing NEGATIVE strengths to flip vector polarity

Loading model...
`torch_dtype` is deprecated! Use `dtype` instead!
Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:02<00:04,  2.44s/it]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:04<00:02,  2.45s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:07<00:00,  2.35s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:07<00:00,  2.37s/it]
Loading steering vector...
Layer: 15, Norm: 2.5156

Testing strengths (with system prompt)...

s=+0.0:   0%|          | 0/20 [00:00<?, ?it/s]s=+0.0:   5%|▌         | 1/20 [00:04<01:28,  4.66s/it]s=+0.0:  10%|█         | 2/20 [00:11<01:50,  6.16s/it]s=+0.0:  15%|█▌        | 3/20 [00:15<01:27,  5.14s/it]s=+0.0:  20%|██        | 4/20 [00:20<01:19,  4.95s/it]s=+0.0:  25%|██▌       | 5/20 [00:27<01:25,  5.69s/it]s=+0.0:  30%|███       | 6/20 [00:34<01:25,  6.09s/it]s=+0.0:  35%|███▌      | 7/20 [00:41<01:21,  6.30s/it]s=+0.0:  40%|████      | 8/20 [00:43<01:01,  5.16s/it]s=+0.0:  45%|████▌     | 9/20 [00:47<00:53,  4.84s/it]s=+0.0:  50%|█████     | 10/20 [00:49<00:39,  3.94s/it]s=+0.0:  55%|█████▌    | 11/20 [00:55<00:40,  4.53s/it]s=+0.0:  60%|██████    | 12/20 [01:03<00:44,  5.52s/it]s=+0.0:  65%|██████▌   | 13/20 [01:08<00:37,  5.41s/it]s=+0.0:  70%|███████   | 14/20 [01:11<00:28,  4.72s/it]s=+0.0:  75%|███████▌  | 15/20 [01:18<00:26,  5.24s/it]s=+0.0:  80%|████████  | 16/20 [01:22<00:19,  4.92s/it]s=+0.0:  85%|████████▌ | 17/20 [01:25<00:12,  4.25s/it]s=+0.0:  90%|█████████ | 18/20 [01:29<00:08,  4.36s/it]s=+0.0:  95%|█████████▌| 19/20 [01:35<00:04,  4.86s/it]s=+0.0: 100%|██████████| 20/20 [01:39<00:00,  4.62s/it]                                                         s=+0.0: 65.0% override resistance
s=+0.5:   0%|          | 0/20 [00:00<?, ?it/s]s=+0.5:   5%|▌         | 1/20 [00:03<00:58,  3.09s/it]s=+0.5:  10%|█         | 2/20 [00:13<02:16,  7.57s/it]s=+0.5:  15%|█▌        | 3/20 [00:19<01:50,  6.52s/it]s=+0.5:  20%|██        | 4/20 [00:22<01:22,  5.16s/it]s=+0.5:  25%|██▌       | 5/20 [00:31<01:39,  6.65s/it]s=+0.5:  30%|███       | 6/20 [00:39<01:39,  7.08s/it]s=+0.5:  35%|███▌      | 7/20 [00:46<01:31,  7.06s/it]s=+0.5:  40%|████      | 8/20 [00:48<01:04,  5.35s/it]s=+0.5:  45%|████▌     | 9/20 [00:50<00:50,  4.55s/it]s=+0.5:  50%|█████     | 10/20 [00:52<00:37,  3.72s/it]s=+0.5:  55%|█████▌    | 11/20 [00:55<00:31,  3.45s/it]s=+0.5:  60%|██████    | 12/20 [01:03<00:38,  4.76s/it]s=+0.5:  65%|██████▌   | 13/20 [01:07<00:32,  4.57s/it]s=+0.5:  70%|███████   | 14/20 [01:10<00:24,  4.14s/it]s=+0.5:  75%|███████▌  | 15/20 [01:12<00:16,  3.37s/it]s=+0.5:  80%|████████  | 16/20 [01:16<00:14,  3.59s/it]s=+0.5:  85%|████████▌ | 17/20 [01:20<00:11,  3.85s/it]s=+0.5:  90%|█████████ | 18/20 [01:25<00:08,  4.18s/it]s=+0.5:  95%|█████████▌| 19/20 [01:30<00:04,  4.37s/it]s=+0.5: 100%|██████████| 20/20 [01:34<00:00,  4.40s/it]                                                         s=+0.5: 55.0% override resistance
s=+1.0:   0%|          | 0/20 [00:00<?, ?it/s]s=+1.0:   5%|▌         | 1/20 [00:03<01:04,  3.37s/it]s=+1.0:  10%|█         | 2/20 [00:10<01:40,  5.60s/it]s=+1.0:  15%|█▌        | 3/20 [00:16<01:39,  5.87s/it]s=+1.0:  20%|██        | 4/20 [00:19<01:15,  4.75s/it]s=+1.0:  25%|██▌       | 5/20 [00:30<01:41,  6.79s/it]s=+1.0:  30%|███       | 6/20 [00:34<01:21,  5.85s/it]s=+1.0:  35%|███▌      | 7/20 [00:39<01:14,  5.73s/it]s=+1.0:  40%|████      | 8/20 [00:41<00:54,  4.50s/it]s=+1.0:  45%|████▌     | 9/20 [00:44<00:45,  4.16s/it]s=+1.0:  50%|█████     | 10/20 [00:48<00:38,  3.84s/it]s=+1.0:  55%|█████▌    | 11/20 [00:51<00:33,  3.67s/it]s=+1.0:  60%|██████    | 12/20 [00:57<00:34,  4.30s/it]s=+1.0:  65%|██████▌   | 13/20 [01:05<00:38,  5.55s/it]s=+1.0:  70%|███████   | 14/20 [01:07<00:27,  4.54s/it]s=+1.0:  75%|███████▌  | 15/20 [01:12<00:23,  4.75s/it]s=+1.0:  80%|████████  | 16/20 [01:16<00:17,  4.36s/it]s=+1.0:  85%|████████▌ | 17/20 [01:19<00:11,  3.86s/it]s=+1.0:  90%|█████████ | 18/20 [01:26<00:09,  4.82s/it]s=+1.0:  95%|█████████▌| 19/20 [01:29<00:04,  4.43s/it]s=+1.0: 100%|██████████| 20/20 [01:34<00:00,  4.46s/it]                                                         s=+1.0: 40.0% override resistance
s=+1.5:   0%|          | 0/20 [00:00<?, ?it/s]s=+1.5:   5%|▌         | 1/20 [00:04<01:27,  4.63s/it]s=+1.5:  10%|█         | 2/20 [00:15<02:25,  8.08s/it]s=+1.5:  15%|█▌        | 3/20 [00:22<02:13,  7.86s/it]s=+1.5:  20%|██        | 4/20 [00:26<01:41,  6.36s/it]s=+1.5:  25%|██▌       | 5/20 [00:34<01:43,  6.89s/it]s=+1.5:  30%|███       | 6/20 [00:36<01:14,  5.34s/it]s=+1.5:  35%|███▌      | 7/20 [00:41<01:05,  5.05s/it]s=+1.5:  40%|████      | 8/20 [00:46<01:01,  5.16s/it]s=+1.5:  45%|████▌     | 9/20 [00:52<00:58,  5.32s/it]s=+1.5:  50%|█████     | 10/20 [00:55<00:44,  4.50s/it]s=+1.5:  55%|█████▌    | 11/20 [00:58<00:37,  4.16s/it]s=+1.5:  60%|██████    | 12/20 [01:02<00:33,  4.18s/it]s=+1.5:  65%|██████▌   | 13/20 [01:08<00:32,  4.59s/it]s=+1.5:  70%|███████   | 14/20 [01:11<00:25,  4.21s/it]s=+1.5:  75%|███████▌  | 15/20 [01:16<00:22,  4.40s/it]s=+1.5:  80%|████████  | 16/20 [01:19<00:16,  4.14s/it]s=+1.5:  85%|████████▌ | 17/20 [01:23<00:12,  4.01s/it]s=+1.5:  90%|█████████ | 18/20 [01:30<00:09,  4.74s/it]s=+1.5:  95%|█████████▌| 19/20 [01:34<00:04,  4.60s/it]s=+1.5: 100%|██████████| 20/20 [01:41<00:00,  5.37s/it]                                                         s=+1.5: 25.0% override resistance
s=-0.5:   0%|          | 0/20 [00:00<?, ?it/s]s=-0.5:   5%|▌         | 1/20 [00:05<01:41,  5.37s/it]s=-0.5:  10%|█         | 2/20 [00:15<02:30,  8.39s/it]s=-0.5:  15%|█▌        | 3/20 [00:21<02:01,  7.14s/it]s=-0.5:  20%|██        | 4/20 [00:26<01:43,  6.48s/it]s=-0.5:  25%|██▌       | 5/20 [00:36<01:51,  7.46s/it]s=-0.5:  30%|███       | 6/20 [00:46<01:58,  8.47s/it]s=-0.5:  35%|███▌      | 7/20 [00:57<01:58,  9.11s/it]s=-0.5:  40%|████      | 8/20 [01:00<01:26,  7.19s/it]s=-0.5:  45%|████▌     | 9/20 [01:10<01:30,  8.20s/it]s=-0.5:  50%|█████     | 10/20 [01:14<01:10,  7.04s/it]s=-0.5:  55%|█████▌    | 11/20 [01:20<00:59,  6.66s/it]s=-0.5:  60%|██████    | 12/20 [01:28<00:55,  6.92s/it]s=-0.5:  65%|██████▌   | 13/20 [01:33<00:45,  6.50s/it]s=-0.5:  70%|███████   | 14/20 [01:43<00:44,  7.37s/it]s=-0.5:  75%|███████▌  | 15/20 [01:51<00:38,  7.79s/it]s=-0.5:  80%|████████  | 16/20 [01:58<00:29,  7.32s/it]s=-0.5:  85%|████████▌ | 17/20 [02:03<00:20,  6.68s/it]s=-0.5:  90%|█████████ | 18/20 [02:08<00:12,  6.17s/it]s=-0.5:  95%|█████████▌| 19/20 [02:15<00:06,  6.47s/it]s=-0.5: 100%|██████████| 20/20 [02:24<00:00,  7.08s/it]                                                         s=-0.5: 60.0% override resistance
s=-1.0:   0%|          | 0/20 [00:00<?, ?it/s]s=-1.0:   5%|▌         | 1/20 [00:10<03:27, 10.93s/it]s=-1.0:  10%|█         | 2/20 [00:21<03:13, 10.77s/it]s=-1.0:  15%|█▌        | 3/20 [00:32<03:02, 10.71s/it]s=-1.0:  20%|██        | 4/20 [00:42<02:50, 10.65s/it]s=-1.0:  25%|██▌       | 5/20 [00:53<02:38, 10.60s/it]s=-1.0:  30%|███       | 6/20 [01:03<02:27, 10.53s/it]s=-1.0:  35%|███▌      | 7/20 [01:14<02:16, 10.49s/it]s=-1.0:  40%|████      | 8/20 [01:24<02:05, 10.45s/it]s=-1.0:  45%|████▌     | 9/20 [01:34<01:54, 10.44s/it]s=-1.0:  50%|█████     | 10/20 [01:40<01:29,  8.98s/it]s=-1.0:  55%|█████▌    | 11/20 [01:50<01:24,  9.40s/it]s=-1.0:  60%|██████    | 12/20 [02:01<01:17,  9.69s/it]s=-1.0:  65%|██████▌   | 13/20 [02:11<01:09,  9.90s/it]s=-1.0:  70%|███████   | 14/20 [02:22<01:00, 10.05s/it]s=-1.0:  75%|███████▌  | 15/20 [02:32<00:50, 10.15s/it]s=-1.0:  80%|████████  | 16/20 [02:42<00:40, 10.22s/it]s=-1.0:  85%|████████▌ | 17/20 [02:53<00:30, 10.29s/it]s=-1.0:  90%|█████████ | 18/20 [03:03<00:20, 10.32s/it]s=-1.0:  95%|█████████▌| 19/20 [03:14<00:10, 10.35s/it]s=-1.0: 100%|██████████| 20/20 [03:24<00:00, 10.37s/it]                                                         s=-1.0: 45.0% override resistance
s=-1.5:   0%|          | 0/20 [00:00<?, ?it/s]s=-1.5:   5%|▌         | 1/20 [00:10<03:18, 10.43s/it]s=-1.5:  10%|█         | 2/20 [00:20<03:08, 10.45s/it]s=-1.5:  15%|█▌        | 3/20 [00:31<02:57, 10.44s/it]s=-1.5:  20%|██        | 4/20 [00:41<02:47, 10.44s/it]s=-1.5:  25%|██▌       | 5/20 [00:52<02:36, 10.44s/it]s=-1.5:  30%|███       | 6/20 [01:02<02:25, 10.41s/it]s=-1.5:  35%|███▌      | 7/20 [01:12<02:15, 10.40s/it]s=-1.5:  40%|████      | 8/20 [01:23<02:04, 10.40s/it]s=-1.5:  45%|████▌     | 9/20 [01:33<01:54, 10.39s/it]s=-1.5:  50%|█████     | 10/20 [01:44<01:43, 10.38s/it]s=-1.5:  55%|█████▌    | 11/20 [01:54<01:33, 10.37s/it]s=-1.5:  60%|██████    | 12/20 [02:04<01:22, 10.37s/it]s=-1.5:  65%|██████▌   | 13/20 [02:15<01:12, 10.37s/it]s=-1.5:  70%|███████   | 14/20 [02:25<01:02, 10.36s/it]s=-1.5:  75%|███████▌  | 15/20 [02:35<00:51, 10.36s/it]s=-1.5:  80%|████████  | 16/20 [02:46<00:41, 10.38s/it]s=-1.5:  85%|████████▌ | 17/20 [02:56<00:31, 10.40s/it]s=-1.5:  90%|█████████ | 18/20 [03:07<00:20, 10.41s/it]s=-1.5:  95%|█████████▌| 19/20 [03:17<00:10, 10.41s/it]s=-1.5: 100%|██████████| 20/20 [03:28<00:00, 10.42s/it]                                                         s=-1.5: 20.0% override resistance


Override Resistance: Positive vs Negative Strengths 
┏━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┓
┃ Strength ┃ Override Resistance ┃ Delta from Base ┃
┡━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━┩
│ s=-1.5   │        20.0%        │     -45.0%      │
│ s=-1.0   │        45.0%        │     -20.0%      │
│ s=-0.5   │        60.0%        │      -5.0%      │
│ s=+0.0   │        65.0%        │    baseline     │
│ s=+0.5   │        55.0%        │     -10.0%      │
│ s=+1.0   │        40.0%        │     -25.0%      │
│ s=+1.5   │        25.0%        │     -40.0%      │
└──────────┴─────────────────────┴─────────────────┘

Best strength: s=-0.5 (60.0%)
CONFIRMED: Negating the vector improves performance!

Results saved to results/metrics/hierarchy_negated_test.json
